@model ProductFormViewModel
@{
    ViewData["Title"] = "Ajouter un produit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="admin-page">
    <div class="admin-header">
        <h1>Ajouter un produit</h1>
        <a href="@Url.Action("Index")" class="btn-back">← Retour</a>
    </div>

    <div class="admin-form-container">
        <form asp-action="Create" method="post" class="admin-form">
            @Html.AntiForgeryToken()

            <div class="form-group">
                <label class="form-label">Nom *</label>
                <input asp-for="Name" class="form-input" />
                <span asp-validation-for="Name" class="error"></span>
            </div>

            <div class="form-group">
                <label class="form-label">Description</label>
                <textarea asp-for="Description" class="form-input" rows="4"></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Prix *</label>
                    <input asp-for="Price" type="number" step="0.01" class="form-input" />
                    <span asp-validation-for="Price" class="error"></span>
                </div>

                <div class="form-group">
                    <label class="form-label">Type de produit</label>
                    <input asp-for="ProductType" class="form-input" />
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">URL de l'image</label>
                <input asp-for="ImageUrl" class="form-input" placeholder="/images/products/nom-image.jpg" />
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Catégorie *</label>
                    <select asp-for="CategoryId" class="form-input">
                        <option value="">Sélectionner...</option>
                        @foreach (var category in Model.Categories)
                        {
                            <option value="@category.Id">@category.Name</option>
                        }
                    </select>
                    <span asp-validation-for="CategoryId" class="error"></span>
                </div>

                <div class="form-group">
                    <label class="form-label">Collection</label>
                    <select asp-for="CollectionId" class="form-input">
                        <option value="">Aucune</option>
                        @foreach (var collection in Model.Collections)
                        {
                            <option value="@collection.Id">@collection.Name</option>
                        }
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Couleurs</label>
                <div class="checkbox-group">
                    @foreach (var color in Model.Colors)
                    {
                        <label class="checkbox-item">
                            <input type="checkbox" name="SelectedColorIds" value="@color.Id" />
                            <span class="color-box" style="background-color: @color.HexCode"></span>
                            @color.Name
                        </label>
                    }
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Tailles</label>
                <div class="checkbox-group">
                    @foreach (var size in Model.Sizes)
                    {
                        <label class="checkbox-item">
                            <input type="checkbox" name="SelectedSizeIds" value="@size.Id" />
                            @size.Name
                        </label>
                    }
                </div>
            </div>

            <div class="form-group">
                <label class="checkbox-item">
                    <input asp-for="IsAvailable" type="checkbox" checked />
                    Disponible
                </label>
            </div>

            <div class="form-group">
                <label class="checkbox-item">
                    <input asp-for="IsNewThisWeek" type="checkbox" />
                    Nouveau cette semaine
                </label>
            </div>

            <div class="form-group">
                <label class="checkbox-item">
                    <input asp-for="IsFeatured" type="checkbox" />
                    Produit vedette
                </label>
            </div>

            <button type="submit" class="btn-submit">Ajouter le produit</button>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}